# 馬賽克 (Mosaic)

 Salma 打算把在牆上用黏土做的馬賽克 (clay mosaic) 塗上顏色。馬賽克是一個 $N \times N$ 的網格方陣，由 $N^2$ 個未塗色且大小為 $1 \times 1$ 的正方形磁磚構成。
馬賽克的列 (row) 由上到下的編號為 $0$ 到 $N-1$，且行 (column) 由左到右的編號為 $0$ 到 $N-1$。第 $i$ 列和第 $j$ 行 ($0 \leq i < N$, $0 \leq j < N$) 的磁磚用 $(i, j)$ 來表示。
 每塊磁磚必須塗成白色 (以 $0$ 表示) 或黑色 (以 $1$ 表示)。

 為了幫馬賽克塗上顏色，Salma 首先選取兩個長度為 $N$ 的陣列 $X$ 和 $Y$，其中每個陣列皆由 $0$ 和 $1$ 的值構成且 $X[0] = Y[0]$。
 她按照陣列 $X$ 將最上面的一列 (第 $0$ 列) 來塗顏色，使得磁磚 $(0, j)$ 的顏色就是 $X[j]$ ($0 \leq j < N$)。
 同時她將最左邊的一行 (第 $0$ 行) 按照陣列 $Y$ 來著色，使得磁磚 $(i, 0)$ 的顏色就是 $Y[i]$ ($0 \leq i < N$)。

然後她重複下列步驟直到所有的磁磚都被塗上顏色:
* 她尋找任何 *未塗色的* 磁磚 $(i, j)$，且其上方的磁磚 (即磁磚 $(i-1, j)$) 和左邊的磁磚 (即磁磚 $(i, j-1)$) 均 *已塗色*。
* 若這兩個鄰近磁磚都已被塗成白色，她就將磁磚 $(i,j)$ 塗成黑色，否則她將磁磚 $(i,j)$ 塗成白色。

事實上，可以證明Salma將磁磚著色的順序與最後的磁磚塗色結果並無關係。
 
Yasmin 非常好奇馬賽克裡的磁磚顏色。她問 Salma $Q$ 個問題，問題的編號由  $0$ 到 $Q-1$。
 在第 $k$ ($0 \leq k < Q$) 個問題，Yasmin 由底下方式指定馬賽克的一個子長方形(subrectangle):
* 最上面的列編號 $T[k]$ 和最下面的列編號 $B[k]$ ($0 \leq T[k] \leq B[k] < N$)，
* 最左邊的行編號 $L[k]$ 和最右邊的行編號 $R[k]$ ($0 \leq L[k] \leq R[k] < N$)。

問題的答案是該子長方形裡的黑色磁磚個數。
 確切地說，Salma 應該找出有多少個 $(i, j)$ 磁磚，其 $T[k] \leq i \leq B[k]$, $L[k] \leq j \leq R[k]$ 且磁磚 $(i, j)$ 的顏色為黑色。

試寫一個程式來回答 Yasmin 的問題。

## 實作細節 (Implementation Details)

你應該實作下列程序。

```
std::vector&lt;long long&gt; mosaic(
	std::vector&lt;int&gt; X, std::vector&lt;int&gt; Y,
    std::vector&lt;int&gt; T, std::vector&lt;int&gt; B,
    std::vector&lt;int&gt; L, std::vector&lt;int&gt; R)
```

* $X$, $Y$: 兩個長度為  $N$ 的陣列，分別描述最上面一列的磁磚和最左邊一行磁磚的顏色。
* $T$, $B$, $L$, $R$: 長度為  $ Q $ 的陣列，描述 Yasmin 所問的問題。
* 該程序應回傳一長度為 $Q$ 的陣列 $C$，使得 $C[k]$ 為問題 $k$ ($0 \leq k < Q$) 的答案。
* 針對每一筆測資，此程序會被呼叫正好一次。

## 條件限制 (Constraints)

* $1 \leq N \leq 200\,000$
* $1 \leq Q \leq 200\,000$
* 對於 $0 \leq i < N$ 的 $i$， $X[i] \in \{0, 1\}$ 且 $Y[i] \in \{0, 1\},$  
* $X[0] = Y[0]$
* 對於 $0 \leq k < Q$ 的 $k$， $0 \leq T[k] \leq B[k] < N$ 且 $0 \leq L[k] \leq R[k] < N$


## 子任務 (Subtasks)

| 子任務 | 配分 | 額外限制 |
| :-----: | :----: | ---------------------- |
| 1       | $5$    | $N \leq 2; Q \leq 10$
| 2       | $7$    | $N \leq 200; Q \leq 200$
| 3       | $7$    | $T[k] = B[k] = 0$ ($0 \leq k < Q$)
| 4       | $10$   | $N \leq 5000$
| 5       | $8$    | $X[i] = Y[i] = 0$ ( $0 \leq i < N$)
| 6       | $22$   | $T[k] = B[k]$ 且 $L[k] = R[k]$ ( $0 \leq k < Q$)
| 7       | $19$   | $T[k] = B[k]$ ( $0 \leq k < Q$)
| 8       | $22$   |無額外限制。

## 範例 (Example)

考慮下列呼叫：

```
mosaic([1, 0, 1, 0], [1, 1, 0, 1], [0, 2], [3, 3], [0, 0], [3, 2])
```

 這個範例如下圖所示。左邊的圖顯示馬賽克的磁磚著色狀況。中間和右邊的圖顯示子長方形，分別表示 Yasmin 詢問的第一個和第二個問題。

![](example.png "550")

這些問題的答案 (即案底長方形內 $1$ 的個數) 分別為7和3。因此該程序應回傳 $[7, 3]$。

## 範例評分程式 (Sample Grader)

輸入格式 (Input format):

```
N
X[0]  X[1]  ...  X[N-1]
Y[0]  Y[1]  ...  Y[N-1]
Q
T[0]  B[0]  L[0]  R[0]
T[1]  B[1]  L[1]  R[1]
...
T[Q-1]  B[Q-1]  L[Q-1]  R[Q-1]
```

輸出格式 (Output format):

```
C[0]
C[1]
...
C[S-1]
```

在此，$C$ 為 `mosaic` 回傳的陣列，其長度為 $S$。
