# موزائیک

سلما قصد دارد که یک موزائیک گِلی را روی یک دیوار رنگ‌آمیزی کند.  موزائیک یک شبکه $N \times N$ است که از $N^2$ کاشی $1 \times 1$ تشکیل شده که در ابتدا بدون رنگ هستند.  سطر های موزائیک از $0$ تا $N-1$ از بالا به پایین شماره‌گذاری شده‌اند و ستون‌ها از $0$ تا $N-1$ از چپ به راست شماره‌گذاری شده‌اند.  کاشی در سطر $i$ و ستون $j$ ($0 \leq i < N$, $0 \leq j < N$) با $(i,j)$ نشان داده می‌شود.  هر کاشی باید یا سفید (با عدد $0$ نشان داده می‌شود) یا سیاه (با عدد $1$ نشان داده می‌شود) رنگ‌آمیزی شود.

برای رنگ‌آمیزی موزائیک، سلما ابتدا دو آرایه $X$ و $Y$ با طول $N$ انتخاب می‌کند که هر کدام از مقادیر $0$ و $1$ تشکیل شده‌اند، به طوری که $X[0] = Y[0]$ باشد.  او کاشی‌های سطر بالایی (سطر $0$) را بر اساس آرایه $X$ رنگ‌آمیزی می‌کند، به طوری که رنگ کاشی $(0,j)$ برابر با $X[j]$ باشد ($0 \leq j < N$).  او همچنین کاشی‌های چپ‌ترین ستون (ستون $0$) را بر اساس آرایه $Y$ رنگ‌آمیزی می‌کند، به طوری که رنگ کاشی $(i,0)$ برابر با $Y[i]$ باشد ($0 \leq i < N$).

سپس سلما مراحل زیر را تکرار می‌کند تا تمام کاشی‌ها رنگ‌آمیزی شوند:
* او یک کاشی *بدون رنگ* $(i,j)$ را پیدا می‌کند که همسایه‌ی بالایی آن (کاشی $(i-1, j)$) و همسایه‌ی سمت چپ آن (کاشی $(i, j-1)$) هر دو *از قبل رنگ‌آمیزی شده* باشند.
* سپس، اگر هر دو همسایه‌ی این کاشی سفید باشند، کاشی $(i,j)$ را سیاه رنگ‌آمیزی می‌کند؛ در غیر این صورت، آن را سفید رنگ‌آمیزی می‌کند.

می‌توان نشان داد که رنگ‌های نهایی کاشی‌ها به ترتیب رنگ‌آمیزی آن‌ها توسط سلما وابسته نیست.

یاسمین بسیار کنجکاو است که بداند رنگ کاشی‌های موزائیک چگونه است.  او از سلما $Q$ سؤال می‌پرسد که از $0$ تا $Q-1$ شماره‌گذاری شده‌اند.  در سؤال $k$-اُم ($0 \leq k < Q$)، یاسمین یک زیرمستطیل از موزائیک را با مشخصات زیر تعیین می‌کند:
* بالاترین سطر $T[k]$ و پایین‌ترین سطر $B[k]$ ($0 \leq T[k] \leq B[k] < N$)
* چپ‌ترین ستون $L[k]$ و راست‌ترین ستون $R[k]$ ($0 \leq L[k] \leq R[k] < N$)

پاسخ سؤال این است که تعداد کاشی‌های سیاه در این زیرمستطیل چند تا است.  به طور خاص، سلما باید تعداد کاشی‌های $(i, j)$ را پیدا کند که $T[k] \leq i \leq B[k]$، $L[k] \leq j \leq R[k]$ باشد و رنگ کاشی $(i,j)$ سیاه باشد.

یک برنامه بنویسید که به سوالات یاسمین پاسخ دهد.

## جزئیات پیاده‌سازی 

شما باید تابع زیر را پیاده‌سازی کنید. 

```
std::vector&lt;long long&gt; mosaic(
	std::vector&lt;int&gt; X, std::vector&lt;int&gt; Y,
    std::vector&lt;int&gt; T, std::vector&lt;int&gt; B,
    std::vector&lt;int&gt; L, std::vector&lt;int&gt; R)
```

* $X$, $Y$: آرایه‌هایی با طول $N$ که رنگ‌های کاشی‌ها را در بالاترین سطر و چپ‌ترین ستون توصیف می‌کنند.
* $T$، $B$، $L$، $R$: آرایه‌هایی با طول $Q$ که سوالات مطرح شده توسط یاسمین را توصیف می‌کنند.
* تابع باید یک آرایه $C$ با طول $Q$ برگرداند، به طوری که $C[k]$ پاسخ سؤال $k$ ($0 \leq k < Q$) را فراهم کند.
* این تابع برای هر تست کیس دقیقاً یک بار فراخوانی می‌شود.

## محدودیت‌ها 

* $1 \leq N \leq 200\,000$
* $1 \leq Q \leq 200\,000$
* $X[i] \in \{0, 1\}$ و $Y[i] \in \{0, 1\}$ به ازای هر $i$ به طوری که $0 \leq i < N$
* $X[0] = Y[0]$
* $0 \leq T[k] \leq B[k] < N$ و $0 \leq L[k] \leq R[k] < N$ به ازای هر $k$ به طوری که $0 \leq k < Q$

## زیرمسئله‌ها 

| زیرمسئله | نمره | محدودیت‌های اضافی |
| :-----: | :----: | ---------------------- |
| 1       | $5$    | $N \leq 2; Q \leq 10$
| 2       | $7$    | $N \leq 200; Q \leq 200$
| 3       | $7$    | $T[k] = B[k] = 0$ ($0 \leq k < Q$)
| 4       | $10$   | $N \leq 5000$
| 5       | $8$    | $X[i] = Y[i] = 0$ ($0 \leq i < N$)
| 6       | $22$   | $T[k] = B[k]$, $L[k] = R[k]$ ($0 \leq k < Q$)
| 7       | $19$   | $T[k] = B[k]$ ($0 \leq k < Q$)
| 8       | $22$   | بدون محدودیت اضافی

## مثال

مثال زیر را در نظر بگیرید.

```
mosaic([1, 0, 1, 0], [1, 1, 0, 1], [0, 2], [3, 3], [0, 0], [3, 2])
```

این مثال در تصاویر زیر نشان داده شده است.  تصویر سمت چپ رنگ‌های کاشی‌ها در موزائیک را نشان می‌دهد. تصاویر وسط و راست زیرمستطیل‌هایی را نشان می‌دهند که یاسمین در سؤال اول و دوم به ترتیب پرسیده است.

![](example.png "550")

پاسخ سوالات (یعنی تعداد یک‌ها در مستطیل‌های سایه‌دار) به ترتیب 7 و 3 است.  بنابراین، تابع باید $[7, 3]$ را برگرداند.

## ارزیاب نمونه 

فرمت ورودی: 

```
N
X[0]  X[1]  ...  X[N-1]
Y[0]  Y[1]  ...  Y[N-1]
Q
T[0]  B[0]  L[0]  R[0]
T[1]  B[1]  L[1]  R[1]
...
T[Q-1]  B[Q-1]  L[Q-1]  R[Q-1]
```

فرمت خروجی: 

```
C[0]
C[1]
...
C[S-1]
```

در اینجا، $S$ طول آرایه $C$ است که توسط تابع `mosaic` برگردانده می‌شود.

