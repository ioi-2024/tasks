# Mosaic

Սալման պլանավորում է ներկել պատից կախված խճանկարը։
Խճանկարը իրենից ներկայացնում է $N \times N$ չափի աղյուսակ,
 որը պարունակում է $N^2$ հատ, ի սկզբանե չներկված $1 \times 1$ չափի վանդակներ։
Խճանկարի տողերը վերևից ներքև համարակալված են $0$-ից $N-1$,
 իսկ սյուները $0$-ից $N-1$ թվերով համարակալված են ձախից աջ։
$i$-րդ տողի և $j$-րդ սյան ($0 \leq i < N$, $0 \leq j < N$) մեջ գտնվող վանդակը նշանակված է $(i,j)$։
Ամեն վանդակ պետք է ներկվի կամ՛ սպիտակ (նշված $0$-ով), կամ՛ սև (նշված $1$-ով)։

Սալման խճանկարը ներկելու համար ընտրում է երկու  $N$ երկարության $X$ և $Y$ զանգվածները, որոնք պարունակում են $0$-ներ և $1$-եր, այնպես որ $X[0] = Y[0]$։
Նա ներկում է վերևի տողը (տող $0$) օգտագործելով $X$ զանգվածը,
 այնպես, որ $(0,j)$ վանդակի գույնը $X[j]$ է ($0 \leq j < N$)։
Նա նաև ներկու է ձախ սյունը (սյուն $0$) օգտագործելով $Y$ զանգվածը,
 այնպես, որ $(i,0)$ վանդակի գույնը $Y[i]$ է ($0 \leq i < N$)։

Այնուհետև նա անում է հետևյալ քայլերը, քանի դեռ ոչ բոլոր վանդակներն են ներկված․
* Նա գտնում է *չներկված* $(i,j)$ վանդակ, անպիսին, որ
 այդ վանդակի վերևի հարևանը (tile $(i-1, j)$) և ձախի հարևանը (tile $(i, j-1)$)
 *արդեն ներկված են*։
* Այնուհետև, նա ներկում է $(i,j)$ վանդակը սև գույնով, եթե նշված երկու հարևաններն էլ սպիտակ են,
 հակառակ դեպքերում, $(i, j)$ ներկում է սպիտակ։

Հեշտ է տեսնել, որ անկախ ընտրման հերթականությունից, վերջնական գույները չեն փոխվում։
 
Յասմինը շատ է հետաքրքրված խճանկարի գույներով։
Նա Սալմային $Q$ հատ հարց է տալիս, համարակալված $0$-ից $Q-1$ թվերով։
$k$-րդ ($0 \leq k < Q$) հարցը իրենից ներկայացնում է խճանկարի ենթաուղղանկյուն․
* Որի վերևի տողի համարը $T[k]$ է, ներքևի տողինը $B[k]$ ($0 \leq T[k] \leq B[k] < N$),
* ձախ սյան համարը $L[k]$ է, աջ սյան համարը $R[k]$ ($0 \leq L[k] \leq R[k] < N$)։

Հարցման պատասխանը տրված ենթաուղղանկյան մեջ սև գույնի վանդակների քանակն է։
Ֆորմալ, Սալման պետք է հաշվի այնպիսի $(i, j)$ վանդակների քանակը,
 որ $T[k] \leq i \leq B[k]$, $L[k] \leq j \leq R[k]$,
 և $(i,j)$ վանդակը ներկված է սև գույնով։

Գրեք ծրագիր, որը կպտասխանի Յասմինի հարցումներին։

## Իրականացման մանրամասներ

Դուք պետք է ծրագրավորեք հետևյալ ֆունկցիան․

```
std::vector&lt;long long&gt; mosaic(
	std::vector&lt;int&gt; X, std::vector&lt;int&gt; Y,
    std::vector&lt;int&gt; T, std::vector&lt;int&gt; B,
    std::vector&lt;int&gt; L, std::vector&lt;int&gt; R)
```

* $X$, $Y$․ $N$ երկարության զանգվածներ, որոնք նկարագրում են վերևի տողի և ձախի սյան գույները, համապատասխանաբար։
* $T$, $B$, $L$, $R$․ $Q$ երկարության զանգվածներ, որոնք նկարագրում են հարցումները։
* Ֆունկցիան պետք է վերադարձնի $Q$ երկարության $C$ զանգված,
 որտեղ $C[k]$-ն $k$-րդ հարցման պատասխանն է ($0 \leq k < Q$)։
* Այս ֆունկցիան կանչվում է ճիշտ մեկ անգամ ամեն թեստի համար։

## Սահմանափակումներ

* $1 \leq N \leq 200\,000$
* $1 \leq Q \leq 200\,000$
* $X[i] \in \{0, 1\}$ և $Y[i] \in \{0, 1\}$
 ,որտեղ $0 \leq i < N$
* $X[0] = Y[0]$
* $0 \leq T[k] \leq B[k] < N$ և $0 \leq L[k] \leq R[k] < N$
 , որտեղ $0 \leq k < Q$

## Ենթախնդիրներ

| Ենթախնդիր | Միավոր  | Լրացուցիչ սահմանափակումներ |
| :-----: | :----: | ---------------------- |
| 1       | $5$    | $N \leq 2; Q \leq 10$
| 2       | $7$    | $N \leq 200; Q \leq 200$
| 3       | $7$    | $T[k] = B[k] = 0$ ($0 \leq k < Q$)
| 4       | $10$   | $N \leq 5000$
| 5       | $8$    | $X[i] = Y[i] = 0$ ($0 \leq i < N$)
| 6       | $22$   | $T[k] = B[k]$ և $L[k] = R[k]$ ($0 \leq k < Q$)
| 7       | $19$   | $T[k] = B[k]$ ($0 \leq k < Q$)
| 8       | $22$   | Լրացուցիչ սահմանափակումներ չկան։

## Օրինակ

Դիտարկենք հետևյալ կանչը։

```
mosaic([1, 0, 1, 0], [1, 1, 0, 1], [0, 2], [3, 3], [0, 0], [3, 2])
```

Այս օրինակը պատկերված է ներքևի նկարում։
Ձախ կողմի աղյուսակը ցույց է տալիս վանդակների գույները։
Մեջտեղի և աջ կողմի նկարները ցույց են տալիս Յասմինի հարցերի ենթաուղղանկյունները առաջին և երկրորդ հարցումների համար համապատասխանաբար։

![](example.png "550")

Այս հարցերի պատասխանները
 (այսինքն, համապատասխան ենթաուղղանկյունների մեկերի քանակները)
 7 և 3 են, համապատասխանաբար։
Այսպիսով, ֆունկցիան պետք է վերադարձնի $[7, 3]$։

## Գրեյդերի նմուշ

Մուտքային տվյալների ձևաչափ․

```
N
X[0]  X[1]  ...  X[N-1]
Y[0]  Y[1]  ...  Y[N-1]
Q
T[0]  B[0]  L[0]  R[0]
T[1]  B[1]  L[1]  R[1]
...
T[Q-1]  B[Q-1]  L[Q-1]  R[Q-1]
```

Ելքային տվյալների ձևաչափ․

```
C[0]
C[1]
...
C[S-1]
```

Այստեղ, $S$-ը `mosaic` ֆունկցիայի վերադարձրած $C$ զանգվածի երկարությունն է։
