# هیروگلیف‌ها

یک تیم از محققان در حال بررسی شباهت‌های بین دنباله‌های هیروگلیف‌ها هستند.
آنها هر هیروگلیف را با یک عدد صحیح نامنفی نشان می‌دهند.
برای انجام مطالعه خود، از مفاهیم زیر در مورد دنباله‌ها استفاده می‌کنند.

برای یک دنباله ثابت $A$، دنباله $S$ یک **زیردنباله** از $A$ نامیده می‌شود
اگر و تنها اگر $S$ بتواند با حذف برخی از عناصر (ممکن است هیچ‌کدام) از $A$ به دست آید.

جدول زیر چند نمونه از زیردنباله‌های یک دنباله $A = [3, 2, 1, 2]$ را نشان می‌دهد.

| زیردنباله        | نحوه به دست آوردن از $A$          |
|------------------|----------------------------------|
| [3, 2, 1, 2]    | هیچ عنصری حذف نشده است.
| [2, 1, 2]       | [<s>3</s>, 2, 1, 2]
| [3, 2, 2]       | [3, 2, <s>1</s>, 2]
| [3, 2]          | [3, <s>2</s>, <s>1</s>, 2] , [3, 2, <s>1</s>, <s>2</s>]
| [3]              | [3, <s>2</s>, <s>1</s>, <s>2</s>]
| [ ]              | [<s>3</s>, <s>2</s>, <s>1</s>, <s>2</s>]

از سوی دیگر، $[3, 3]$ یا $[1, 3]$ زیردنباله‌های $A$ نیستند.

دو دنباله از هیروگلیف‌ها، $A$ و $B$ را در نظر بگیرید.
دنباله $S$ یک **زیردنباله مشترک** از $A$ و $B$ نامیده می‌شود
اگر و تنها اگر $S$ یک زیردنباله از هر دو $A$ و $B$ باشد.
همچنین، می‌گوییم دنباله $U$ یک **زیردنباله مشترک مرجع** از $A$ و $B$ است
اگر و تنها اگر دو شرط زیر برقرار باشند:
* دنباله $U$ یک زیردنباله مشترک از $A$ و $B$ است.
* هر زیردنباله مشترک از $A$ و $B$ نیز یک زیردنباله از $U$ است.

می‌توان نشان داد که هر دو دنباله $A$ و $B$
حداکثر یک زیردنباله مشترک مرجع دارند.

محققان دو دنباله از هیروگلیف‌ها، $A$ و $B$ را پیدا کرده‌اند.
دنباله $A$ شامل $N$ هیروگلیف است
و دنباله $B$ شامل $M$ هیروگلیف است.
به محققان کمک کنید
یک زیردنباله مشترک مرجع از دنباله‌های $A$ و $B$ را محاسبه کنند،
یا تعیین کنید که چنین دنباله‌ای وجود ندارد.

## جزئیات پیاده‌سازی

شما باید تابع زیر را پیاده‌سازی کنید.

```
std::vector&lt;int&gt; ucs(std::vector&lt;int&gt; A, std::vector&lt;int&gt; B)
```

* $A$: آرایه‌ای با طول $N$ که دنباله اول را توصیف می‌کند.
* $B$: آرایه‌ای با طول $M$ که دنباله دوم را توصیف می‌کند.
* اگر یک زیردنباله مشترک مرجع از $A$ و $B$ وجود داشته باشد،
تابع باید یک آرایه حاوی این دنباله را برگرداند.
در غیر این صورت، تابع باید $[-1]$ را برگرداند
(یک آرایه با طول $1$ که تنها عنصر آن $-1$ است).
* این تابع دقیقا یک بار برای هر تست فراخوانی می‌شود.

## محدودیت‌ها

* $1 \leq N \leq 100\,000$
* $1 \leq M \leq 100\,000$
* $0 \leq A[i] \leq 200\,000$ برای هر $i$ که $0 \leq i < N$
* $0 \leq B[j] \leq 200\,000$ برای هر $j$ که $0 \leq j < M$

## زیرمسائل

| زیرمسئله | امتیاز  | محدودیت‌های اضافی                  |
| :-----: | :----: | ------------------------------- |
| 1       | $3$    | $N = M;$ هر یک از $A$ و $B$ شامل $N$ عدد **متفاوت** بین $0$ و $N-1$ (شامل هر دو) هستند
| 2       | $15$   | برای هر عدد صحیح $k$، (تعداد تکرار $k$ در $A$) به علاوه (تعداد تکرار $k$ در $B$) حداکثر $3$ است
| 3       | $10$   | $A[i] \leq 1$ $(0 \leq i < N)$; $B[j] \leq 1$ $(0 \leq j < M)$
| 4       | $16$   | یک زیردنباله مشترک مرجع از $A$ و $B$ وجود دارد
| 5       | $14$   | $N \leq 3000$; $M \leq 3000$
| 6       | $42$   | بدون محدودیت اضافی

## مثال‌ها

### مثال 1

در نظر بگیرید که تابع زیر فراخوانی شود:

```
ucs([0, 0, 1, 0, 1, 2], [2, 0, 1, 0, 2])
```

در اینجا، زیردنباله‌های مشترک $A$ و $B$ به صورت زیر هستند:
$[\ ]$, $[0]$, $[1]$, $[2]$, $[0, 0]$, $[0, 1]$, $[0, 2]$, $[1, 0]$, $[1, 2]$, $[0, 0, 2]$, $[0, 1, 0]$, $[0, 1, 2]$, $[1, 0, 2]$ و $[0, 1, 0, 2]$.

از آنجایی که $[0, 1, 0, 2]$ یک زیردنباله مشترک از $A$ و $B$ است و
همه زیردنباله‌های مشترک $A$ و $B$ زیردنباله‌های $[0, 1, 0, 2]$ هستند،
تابع باید $[0, 1, 0, 2]$ را برگرداند.

### مثال 2

در نظر بگیرید که تابع زیر فراخوانی شود:

```
ucs([0, 0, 2], [1, 1])
```

در اینجا، تنها زیردنباله مشترک $A$ و $B$ دنباله خالی $[\ ]$ است.
بنابراین تابع باید یک آرایه خالی $[\ ]$ را برگرداند.

### مثال 3

در نظر بگیرید که تابع زیر فراخوانی شود:
```
ucs([0, 1, 0], [1, 0, 1])
```

در اینجا، زیردنباله‌های مشترک $A$ و $B$ عبارتند از
$[\ ], [0], [1], [0, 1]$ و $[1, 0]$.
می‌توان نشان داد که یک زیردنباله مشترک مرجع وجود ندارد.
بنابراین، تابع باید $[-1]$ را برگرداند.

## ارزیاب نمونه

فرمت ورودی:

```
N  M
A[0]  A[1]  ...  A[N-1]
B[0]  B[1]  ...  B[M-1]
```

فرمت خروجی:

```
T
R[0]  R[1]  ...  R[T-1]
```

در اینجا، $R$ آرایه‌ای است که توسط `ucs` برگردانده شده و $T$ طول آن است.

